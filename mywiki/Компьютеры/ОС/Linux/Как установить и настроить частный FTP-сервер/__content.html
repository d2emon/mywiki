<!DOCTYPE html>
<HTML>
<HEAD>
	<META HTTP-EQUIV='CONTENT-TYPE' CONTENT='TEXT/HTML; CHARSET=UTF-8'/>

	<STYLE type="text/css">
		body, div, p, table {
			font-size:10pt;
			font-family:Verdana;
		}

		img{border:none}
		
	</STYLE>
	
</HEAD>

<BODY>
<P>
<H1>Как установить и настроить частный FTP-сервер</H1></P>

<P>Недавно мне пришлось устанавливать Linux из под Windows, по локальной сети из двух машин, на старенькую машину без CD...</P>

<P>Дмитрий Никущенко (satg@alpha.mhi.iuf.net)</P>

<P>
<H3>Инсталляция Linux по локальной сети.</H3></P>

<P>У нас на работе появился новый, современный компьютер, а старенькая машина перекочевала в дальний угол. Правда ее соединили с первой коаксиальным кабелем, и берут некоторые данные, но в основном она простаивает. Тут появилась идея установить на нее Linux и в свободное время осваивать его. Итак имеются две машины с OS Windows98, соединены через сетевые карты, протокол NetBEUI.</P>

<P>На одной CD устройство, на второй его нет. Снять с первой машины CD невозможно, так как она на гарантии и системный блок под пломбами, а взять взаймы негде, поэтому установка с локального CD отпадает. В FAQ по Linux описаны разные способы инсталляции в том числе и по FTP. Решил попробовать этот вариант.</P>

<P>Подготавливаю старую машину для установка Linux, для этого на одном из ее дисков стираю разный хлам. Удалось высвободить 600 Mb и при помощи Partition Magic выделяю для Linux основной и swap разделы. Устанавливаю на обеих машинах TCP/IP протокол. Адресация для локальной сети рекомендуется в диапазоне 192.168.X.X.
<BR>Поэтому первой машине задаю адрес <A HREF="http://192.168.9.1">192.168.9.1</A>
<BR>другой <A HREF="http://192.168.9.2">192.168.9.2</A>
<BR>маска <A HREF="http://255.255.255.0">255.255.255.0</A></P>

<P>Проверяю связь между ними, друг друга по сети видят. Создаю загрузочный диск с образа Bootnet.img из дистрибутива RedHat 6. Теперь необходимо первую машину сделать FTP сервером. После поисков в INet, нашел несколько FTP серверов для Windows. Попробовал их, и выбрал GuildFTPd последней версии 0.999.9, потому что он бесплатный, небольшой и имеет отличный Help. Установил на первую машину с CD устройством. Настройка основных параметров сервера (номер порта, максимальное количество коннектов, количество коннектов с каждого ip и др) осуществляется в правом нижнем окне. Если это сделать для группы System, то все группы нижнего уровня эти настройки унаследуют. Создаем группу Anon c правом входа anonymous.</P>

<P>Делаем ссылку на корень CD. т.е Local Path = "E:\",
<BR>Virtual Path = "/".
<BR>Ip mask <A HREF="http://192.168.9.1">192.168.9.1</A>
<BR>Admin -> Options -> Server: вписываю имя RedHat, и несколько уменьшаю детализацию сообщений сервера (передвинув бегунок "Log Level" влево), иначе файлы журнала быстро наберут сотни мегабайт:
<BR>Admin -> Option -> Advanced Settings -> Nic =0, в правом поле будет подсвечен Ip=<A HREF="http://192.168.9.1">192.168.9.1</A>
<BR>Сервер готов к работе, для его запуска/выключения нажать кнопку "on", или выбрать меню Admin -> Allow Logins.</P>

<P>Со второй машины проверяю доступ к CD диску, в командной строке набираю:
<BR>Ftp -o <A HREF="http://192.168.9.1">192.168.9.1</A></P>

<P>Идут сообщения: Server - RedHat, потом приветствие, которое можно набрать в GuildFTPd;
<BR>запрашивается имя - anonymous, пароль - адрес почтового ящика.
<BR>Далее: Ls -l, все читается. Пробую что нибудь скачать: get readme.txt. Файл перекачался. Можно проверить FTP сервер FAR или WinComander. Теперь вставляю загрузочную дискету в эту же машину, перезагружаюсь. Язык English
<BR>клав en
<BR>установка по FTP
<BR>сетевая карта Ne1000, 2000 compatibility
<BR>IRQ 5, adr =0x320
<BR>Нажимаю Alt+F4 и читаю
<BR>Ne*000 ethrcard probe at 0x320:00 80 c8 2d 4f 90
<BR>Ne2000 fond at 0x320 using irq 5
<BR>Нажимаю Alt+F1 и Ok
<BR>Ip adr = <A HREF="http://192.168.9.2">192.168.9.2</A> далее значения выставил Linux
<BR>netmask <A HREF="http://255.255.255.0">255.255.255.0</A>
<BR>Def gateway <A HREF="http://192.168.9.1">192.168.9.1</A>
<BR>Primary NetServer <A HREF="http://192.168.9.1">192.168.9.1</A>
<BR>после OK заполняю сам
<BR>FTP site name: <A HREF="http://192.168.9.1">192.168.9.1</A>
<BR>RedHat directory: (один пробел)
<BR>OK.</P>

<P>появляется сообщение, что загружается \RedHat\base\netstg2.img Затем пошли вопросы по инсталляции, на которые я ответил.
<BR>Прошло 15 минут и Linux стоит на второй машине. Перезагружаюсь в Linux, затем в Windows.
<BR>Все работает.
<BR>Я думаю этот вариант инсталляции может подойти и для Notebook без CD устройств.
<BR>У меня проблемы возникли с сетевой картой DE 220 ISA, почему-то драйвер "ne" отсутствовал в дистрибутиве RedHat 7.1, пришлось использовать RedHat 6.2. Затем сетевая карта не хотела работать через порт 0x300, хотя в Windows стоит этот порт, IRQ 10 тоже не понравился.</P>

<P>Вот и все, Сергей.</P>

<P>Литература из Inet: В.А.Костромин "ОС Linux на Вашем персональном компьютере" ;</P>
</BODY>
</HTML>