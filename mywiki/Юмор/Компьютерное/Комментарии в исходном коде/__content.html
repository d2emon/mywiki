<!DOCTYPE html>
<HTML>
<HEAD>
	<META HTTP-EQUIV='CONTENT-TYPE' CONTENT='TEXT/HTML; CHARSET=UTF-8'/>

	<STYLE type="text/css">
		body, div, p, table {
			font-size:10pt;
			font-family:Verdana;
		}

		img{border:none}
		
	</STYLE>
	
</HEAD>

<BODY>
<P>
<H1>Комментарии в исходном коде</H1></P>

<P><A HREF="http://stackoverflow.com/questions/184618/what-is-the-best-comment-in-source-code-you-have-ever-encountered">http://stackoverflow.com/questions/184618/what-is-the-best-comment-in-source-code-you-have-ever-encountered</A></P>

<P><HR>
<BR>
<PRE>
// 
// Дорогой мейнтейнер:
// 
// Когда ты закончишь «оптимизировать» эту подпрограмму
// и поймешь, насколько большой ошибкой было делать это,
// пожалуйста, увеличь счетчик внизу как предупреждение
// для следующего парня:
// 
// total_hours_wasted_here = 42
//
</PRE></P>

<P><HR></P>

<P>
<PRE>
//When I wrote this, only God and I understood what I was doing
//Now, God only knows
</PRE></P>

<P><HR></P>

<P>
<PRE>
// Когда я начинал это писать, только Бог и я понимали, что я делаю
// Сейчас остался только Бог
</PRE></P>

<P><HR></P>

<P>
<PRE>
// иногда мне кажется, что компилятор игнорирует все мои комментарии
</PRE></P>

<P><HR></P>

<P>
<PRE>
// Я посвящаю весь свой код, всю работу своей жене Дарлин, которой
// придётся содержать меня, наших троих детей и собаку, когда
// это пойдет в паблик.
</PRE></P>

<P><HR></P>

<P>
<PRE>
// пьян, исправить позже
</PRE></P>

<P><HR></P>

<P>
<PRE>
// Магия. Не трогать.
</PRE></P>

<P><HR></P>

<P>
<PRE>
#define TRUE FALSE
// Удачного дебаггинга, молокососы
</PRE></P>

<P><HR></P>

<P>
<PRE>
long john; // silver
</PRE></P>

<P><HR></P>

<P>
<PRE>
long long ago; /* in a galaxy far far away */ 
</PRE></P>

<P><HR></P>

<P>
<PRE>
long long ago; /* в далёкой-далёкой Галактике */
</PRE></P>

<P><HR></P>

<P>
<PRE>
/**
 * Всегда возвращает true.
 */
public boolean isAvailable() {
    return false;
}
</PRE></P>

<P><HR></P>

<P>About the middle of a 30 page xslt
<BR>
<PRE>
&lt;!-- Here be dragons  --&gt;
</PRE></P>

<P><HR></P>

<P>
<PRE>
int optimisticRange = 30; // радиус кривизны васиных рук
</PRE></P>

<P><HR></P>

<P>
<PRE>
// ????-????, ????? ???? ?????! :)
</PRE></P>

<P><HR></P>

<P>Встречал в проекте жуткий индусский говнокод, с комментарием </P>

<P>
<PRE>
// I am sorry
</PRE></P>

<P><HR></P>

<P>/**
<BR>
<UL>
<LI>Created by ${USER} ${DATE} ${TIME}</LI>
<LI>Этот код распространяется под лицензией JCD:</LI>
<LI>1. Вы можете делать с кодом всё что угодно, но обязаны комментировать;</LI>
<LI>2. Использовать Tab для отступов;</LI>
<LI>3. Пользоваться автоформатированием (e.g Ctrl+Alt+L, Ctrl+Shift+F)</LI>
<LI>/</LI>
</UL><HR></P>

<P>
<PRE>
/* Отношение длины окружности к ее диаметру. 
    Не забудьте поменять значение на 3.0 для штата Индиана */

#define Pi                                      3.1415927
</PRE></P>

<P><HR></P>

<P>
<PRE>
// Пытаемся авторизоваться.
// Куки.
// Не получилось. Бывает. Тогда сессия.
</PRE>
<BR>и т.п.</P>

<P><HR></P>

<P>
<PRE>
     /**
     * @hide
     * Private impl for avoiding a log message...  DO NOT USE without doing
     * your own log, or the Android Illuminati will find you some night and
     * beat you up.
     */
</PRE></P>

<P><HR></P>

<P>
<PRE>
bla-bla-bla… // no comments
</PRE></P>

<P><HR></P>

<P>
<PRE>
/// &lt;summary&gt;
/// The possible outcomes of an update operation (save or delete)
/// &lt;/summary&gt;
public enum UpdateResult
{

    /// &lt;summary&gt;
    /// Updated successfully
    /// &lt;/summary&gt;
    Success = 0,

    /// &lt;summary&gt;
    /// Updated successfully
    /// &lt;/summary&gt;
    Failed = 1
}
</PRE></P>

<P><HR></P>

<P>
<PRE>
public boolean isAvailable() {
    return false;
}
</PRE></P>

<P><HR></P>

<P>
<PRE>
/* FIXME: please god, when will the hurting stop? Thus function is so
fucking broken it's not even funny. */
</PRE></P>

<P><HR></P>

<P>
<PRE>
// Let the magic begin
</PRE></P>

<P>После чего шли десяток строк с зубодробительными конвертациями структур данных на Linq и Rx.</P>

<P>Через полтора года пришлось немного поменять код. Поменял мелочь, удалил Б-гмерзкий комментарий, попытался отрефакторить, откатился, восстановил комментарий. Пусть уж лучше магия.</P>

<P><HR></P>

<P>
<PRE>
#include &lt;cstdlib&gt;
#include &lt;exceptio.h&gt;

#define return if (std::random(1000) &lt; 2) throw std::exception(); else return
</PRE></P>

<P><HR></P>

<P>
<PRE>
#define malloc(X) ((void*) std::random())
</PRE></P>

<P><HR></P>

<P>
<PRE>
//вёрстка сделана так, что хуже пожалуй что даже почти некуда
//но с ТАКИМ «дизайном», любые другие варианты не уложатся в такой «бюджет»
//поэтому сидите и не чирикайте…
//да-да, мы имеем фиксированную ширину в 1280рх. скажите спасибо «дизайнеру».
</PRE></P>

<P>
<PRE>
//FORCE PNG!!! use the FORCE!!! 
</PRE></P>

<P>
<PRE>
//конечно это ОЧЕНЬ ДИКОЕ извращение, но так предусмотрены всякие гадости с множественным путём…
</PRE></P>

<P>
<PRE>
//если мы загружали карту или другое дерьмецо, то НИЧЕГО не делать 
</PRE></P>

<P><HR></P>

<P>
<PRE>
// лишь бы дети хорошо учились
</PRE></P>

<P><HR></P>

<P>// 8-926-123-45-67 Маша</P>

<P>@]</P>

<P><HR></P>

<P>
<PRE>
if (isset($_GET['id'])) { .... } else {
// В любой непонятной ситуации просто ложись спать. 
exit;
}
</PRE></P>

<P><HR></P>

<P>Совершенно недавно работал над изучением кода MediaWiki и провел много радостных часов:</P>

<P>
<PRE>
Article.php:450: // todo FIXME: Horrible, horrible! This content-loading interface just plain sucks.
WikiPage.php:185: * todo: move this UI stuff somewhere else
WikiPage.php:3144: * todo This is a shitty interface function. Kill it and replace the
* other shitty functions like doEditUpdates and such so it's not needed
* anymore.
Title.php:170: * THIS IS NOT THE FUNCTION YOU WANT.
EditPage.php:1270: // FIXME this sucks, we should just use the Status object throughout
HtmlForm.php:1974: # If one of the options' 'name' is int(0), it is automatically selected.
# because PHP sucks and thinks int(0) == 'some string'.
# Working around this by forcing all of them to strings.
ApiEditPage.php:229: // That interface kind of sucks, but it's workable
ApiEditPage.php:337: // todo FIXME: This interface SUCKS
ApiQueryQueryPage.php:47: // This SUCKS
SqliteInstaller.php:169: # Setting globals kind of sucks
JpegMetadataExtractor.php:136: // Just need to find out what the byte order is.
// because php's exif plugin sucks…
SearchEngine.php:395: $contextlines = 2; // Hardcode this. Old defaults sucked. :)
$contextchars = 75; // same as above… :P
UploadBase.php:1020: * Internet Explorer for Windows performs some really stupid…
Setup.php:303: /// todo UGLY UGLY
UtfNormal.php:316: # Since PHP is not the fastest language on earth, some of
# this code is a little ugly with inner loop optimizations.
User.php:4115: // Now here's a goddamn hack…
</PRE></P>

<P><HR></P>

<P>
<PRE>
def random():
    #  я думаю, 7 достаточно случайное число.
    return 7
</PRE></P>

<P><HR></P>

<P>KolibriOS kernel.asm
<BR>
<PRE>
.epic_fail:

hlt; Houston, we've had a problem
</PRE></P>

<P><HR></P>

<P>
<PRE>
protected static function getMostRelevant(array $documents)
{
    ...
    // если документ всего один, то он и возвращается
    ...
    // если остался один, то он возвращается
    ...
    // если остался один, то он возвращается
    ...
    // если остался один, то он возвращается
    ...
    // если все еще более одного совпадения
    // I'm Feeling Lucky!
    return $documents[0];
}
</PRE></P>

<P><HR></P>

<P>I am particularly guilty of this, embedding non-constructive comments, code poetry and little jokes into most of my projects (although I usually have enough sense to remove anything directly offensive before releasing the code). Here's one I'm particulary fond of, placed far, far down a poorly-designed 'God Object':
<BR>
<PRE>
/**
* For the brave souls who get this far: You are the chosen ones,
* the valiant knights of programming who toil away, without rest,
* fixing our most awful code. To you, true saviors, kings of men,
* I say this: never gonna give you up, never gonna let you down,
* never gonna run around and desert you. Never gonna make you cry,
* never gonna say goodbye. Never gonna tell a lie and hurt you.
*/
</PRE>
<BR>I'M SORRY!!!! I just couldn't help myself.....!</P>

<P>And another, which I'll admit I haven't actually released into the wild, even though I am very tempted to do so in one of my less intuitive classes:
<BR>
<PRE>
// 
// Dear maintainer:
// 
// Once you are done trying to 'optimize' this routine,
// and have realized what a terrible mistake that was,
// please increment the following counter as a warning
// to the next guy:
// 
// total_hours_wasted_here = 42
// 
</PRE></P>

<P><HR></P>

<P>
<PRE>
Exception up = new Exception(&quot;Something is really wrong.&quot;);
throw up;  //ha ha
</PRE></P>

<P><HR></P>

<P>
<PRE>
stop(); // Hammertime!
</PRE></P>

<P><HR></P>

<P>This seems to stop morons from messing my code...
<BR>
<PRE>
// Autogenerated, do not edit. All changes will be undone.
</PRE></P>

<P><HR></P>

<P>
<PRE>
// sometimes I believe compiler ignores all my comments
</PRE></P>

<P><HR></P>

<P>
<PRE>
// I dedicate all this code, all my work, to my wife, Darlene, who will 
// have to support me and our three children and the dog once it gets 
// released into the public.
</PRE></P>

<P><HR></P>

<P>
<PRE>
//Code sanitized to protect the foolish.
using System;
using System.Collections.Generic;
using System.Text;
using System.Reflection;
using System.Web.UI;

namespace Mobile.Web.Control
{
    /// &lt;summary&gt;
    /// Class used to work around Richard being a fucking idiot
    /// &lt;/summary&gt;
    /// &lt;remarks&gt;
    /// The point of this is to work around his poor design so that paging will 
    /// work on a mobile control. The main problem is the BindCompany() method, 
    /// which he hoped would be able to do everything. I hope he dies.
    /// &lt;/remarks&gt;
    public abstract class RichardIsAFuckingIdiotControl : MobileBaseControl, ICompanyProfileControl
    {
        protected abstract Pager Pager { get; }

        public void BindCompany(int companyId) { }

        public RichardIsAFuckingIdiotControl()
        {
            MakeSureNobodyAccidentallyGetsBittenByRichardsStupidity();
        }

        private void MakeSureNobodyAccidentallyGetsBittenByRichardsStupidity()
        {
            // Make sure nobody is actually using that fucking bindcompany method
            MethodInfo m = this.GetType().GetMethod(&quot;BindCompany&quot;, BindingFlags.DeclaredOnly | 
                BindingFlags.Instance | BindingFlags.Public | BindingFlags.NonPublic);
            if (m != null)
            {
                throw new RichardIsAFuckingIdiotException(&quot;No!! Don't use the fucking BindCompany method!!!&quot;);
            }
            // P.S. this method is a joke ... the rest of the class is fucking serious
        }

        /// &lt;summary&gt;
        /// This returns true if this control is supposed to be doing anything
        /// at all for this request. Richard thought it was a good idea to load
        /// the entire website during every request and have things turn themselves
        /// off. He also thought bandanas and aviator sunglasses were &quot;fuckin' 
        /// gnarly, dude.&quot;
        /// &lt;/summary&gt;
        protected bool IsThisTheRightPageImNotSureBecauseRichardIsDumb()
        {
            return Request.QueryString[&quot;Section&quot;] == this.MenuItemKey;
        }

        protected override void OnLoad(EventArgs e)
        {
            if (IsThisTheRightPageImNotSureBecauseRichardIsDumb())
            {
                Page.LoadComplete += new EventHandler(Page_LoadComplete);
                Pager.RowCount = GetRowCountBecauseRichardIsDumb();
            }
            base.OnLoad(e);
        }

        protected abstract int GetRowCountBecauseRichardIsDumb();
        protected abstract void BindDataBecauseRichardIsDumb();

        void Page_LoadComplete(object sender, EventArgs e)
        {
            BindDataBecauseRichardIsDumb();
        }

        // the rest of his reduh-ndant interface members
        public abstract string MenuItemName { get; set; }
        public abstract string MenuItemKey { get; set; }
        public abstract bool IsCapable(CapabilityCheck checker, int companyId);
        public abstract bool ShowInMenu { get; }
        public virtual Control CreateHeaderControl()
        {
            return null;
        }
    }
}
</PRE>
<BR>Update: The original author of the code has outed himself so I must give credit where it is due. Dan McKinley left the company I was with shortly after I started, and he talks more about the code, explaining some background and a few more "WTF's" that 'Richard' wrote.</P>

<P><HR></P>

<P>
<PRE>
// somedev1 -  6/7/02 Adding temporary tracking of Login screen
// somedev2 -  5/22/07 Temporary my ass
</PRE></P>

<P><HR></P>

<P>
<PRE>
// drunk, fix later
</PRE>
<BR>Wish I were kidding. And knowing the developer who wrote the code, I think he meant it literally.</P>

<P><HR></P>

<P>
<PRE>
// Magic. Do not touch.
</PRE></P>

<P><HR></P>

<P>
<PRE>
#define TRUE FALSE //Happy debugging suckers
</PRE></P>

<P><HR></P>

<P>
<PRE>
// I'm sorry.
</PRE></P>

<P><HR></P>

<P>
<PRE>
return 1; # returns 1
</PRE></P>

<P><HR></P>

<P>
<PRE>
/* This is O(scary), but seems quick enough in practice. */ 
</PRE>
<BR>followed by four nested for-loops</P>

<P><HR></P>

<P>
<PRE>
// Replaces with spaces the braces in cases where braces in places cause stasis 
   $str = str_replace(array(&quot;\{&quot;,&quot;\}&quot;),&quot; &quot;,$str);
</PRE></P>

<P><HR></P>

<P>
<PRE>
long john; // silver
</PRE></P>

<P><HR></P>

<P>
<PRE>
Catch (Exception e) {
 //who cares?
} 
</PRE></P>

<P><HR></P>

<P>
<PRE>
/**
 * Always returns true.
 */
public boolean isAvailable() {
    return false;
}
</PRE>
<BR>Never rely on a comment...</P>

<P><HR></P>

<P>
<PRE>
/*
 * You may think you know what the following code does.
 * But you dont. Trust me.
 * Fiddle with it, and youll spend many a sleepless
 * night cursing the moment you thought youd be clever
 * enough to &quot;optimize&quot; the code below.
 * Now close this file and go play with something else.
 */ 
</PRE></P>

<P><HR></P>

<P>
<PRE>
try {

} finally { // should never happen 

}
</PRE></P>

<P><HR></P>

<P><A HREF="http://code.google.com/p/xee/source/browse/XeePhotoshopLoader.m?r=f16763d221dfca6253983824b470adf553a19e06#108">http://code.google.com/p/xee/source/browse/XeePhotoshopLoader.m?r=f16763d221dfca6253983824b470adf553a19e06#108</A></P>

<P>
<PRE>
// At this point, I'd like to take a moment to speak to you about the Adobe PSD
// format. PSD is not a good format. PSD is not even a bad format. Calling it
// such would be an insult to other bad formats, such as PCX or JPEG. No, PSD
// is an abysmal format. Having worked on this code for several weeks now, my
// hate for PSD has grown to a raging fire that burns with the fierce passion
// of a million suns.
//
// If there are two different ways of doing something, PSD will do both, in
// different places. It will then make up three more ways no sane human would
// think of, and do those too. PSD makes inconsistency an art form. Why, for
// instance, did it suddenly decide that *these* particular chunks should be
// aligned to four bytes, and that this alignement should *not* be included in
// the size? Other chunks in other places are either unaligned, or aligned with
// the alignment included in the size. Here, though, it is not included. Either
// one of these three behaviours would be fine. A sane format would pick one.
// PSD, of course, uses all three, and more.
//
// Trying to get data out of a PSD file is like trying to find something in the
// attic of your eccentric old uncle who died in a freak freshwater shark
// attack on his 58th birthday. That last detail may not be important for the
// purposes of the simile, but at this point I am spending a lot of time
// imagining amusing fates for the people responsible for this Rube Goldberg of
// a file format.
//
// Earlier, I tried to get a hold of the latest specs for the PSD file format.
// To do this, I had to apply to them for permission to apply to them to have
// them consider sending me this sacred tome. This would have involved faxing
// them a copy of some document or other, probably signed in blood. I can only
// imagine that they make this process so difficult because they are intensely
// ashamed of having created this abomination. I was naturally not gullible
// enough to go through with this procedure, but if I had done so, I would have
// printed out every single page of the spec, and set them all on fire. Were it
// within my power, I would gather every single copy of those specs, and launch
// them on a spaceship directly into the sun.
//
// PSD is not my favourite file format.
</PRE></P>

<P><HR></P>

<P>
<PRE>
const int TEN=10; // As if the value of 10 will fluctuate... 
</PRE></P>

<P><HR></P>

<P>
<PRE>
    #Christmas tree initializer  
    toConnect = []  
    toRead =   [  ]  
    toWrite = [    ]   
    primes = [      ]  
    responses = {}  
    remaining = {}
</PRE></P>

<P><HR></P>

<P>
<PRE>
in a completely uncommented 2000 line method

{ 
  { 
    while (.. ){ 
      if (..){
          }
      for (.. ){ 
          }
         .... (just putting in the control flow here, imagine another few hundred ifs)
      if(..)   {
            if(..)     {
                   if(..)   {
                ...
                (another few hundred brackets)
                       }
                  }
         } //endif
</PRE>
<BR>(I actually grepped out all the brackets one day just to see how bad it was, and, sans formatting, got this:
<BR>
<BR>{{{{}}{}{}{}{}}{{}{{}{}{}{}{}{}{{}{}}{}{}{{}{}{}{}{}{}{}{}{}{}{}{{}}}{{}{{}}{{{}}}{{}{}{}{}{}{}{}{{}}{}{{{}}{}{{}{}}{{{}}{}{}{}{}}{{}}}{}{{}{}{}{{}{{}}{}}{{}}}{{}}{{}}{{}}{}{{}}{{}}{{}}{{}{}{}}{}{}{{{}}{{}}}{}{}{}{}}{{{}{{}{}{}{{}{}{}{}{}{}}{}}{{}}{{}{}}}{{}}{{}}}{{}}{{}}{}{}{}{}{{}}{{}{}{}{}}}}{}{}}{{}{{{}{}{}{}}}}{{}{{{}}}}{{}{{{}{{}}{}{{}}{}{{}{}}{{}}{}{{}}}{{}}}}{{}{}{}{}{}{{{}    {{{{}}{}{}{}{}}{{}{{}{}{}{}{}{}{{}{}}{}{}{{}{}{}{}{}{}{}{}{}{}{}{{}}}{{}{{}}{{{}}}{{}{}{}{}{}{}{}{{}}{}{{{}}{}{{}{}}{{{}}{}{}{}{}}{{}}}{}{{}{}{}{{}{{}}{}}{{}}}{{}}{{}}{{}}{}{{}}{{}}{{}}{{}{}{}}{}{}{{{}}{{}}}{}{}{}{}}{{{}{{}{}{}{{}{}{}{}{}{}}{}}{{}}{{}{}}}{{}}{{}}}{{}}{{}}{}{}{}{}{{}}{{}{}{}{}}}}{}{}}{{}{{{}{}{}{}}}}{{}{{{}}}}{{}{{{}{{}}{}{{}}{}{{}{}}{{}}{}{{}}}{{}}}}{{}{}{}{}{}{{{}{}{{}}{}}}{}}{{}}{{}{}}{{}{{}{{}}}}{{{}{{{}}}}}{{{{{}}}}}{}{}{}{{{{}}}{}{}}{{}{{}}}}{}{{}}{}}}{}}{{}}{{}{}}{{}{{}{{}}}}{{{}{{{}}}}}{{{{{}}}}}{}{}{}{{{{}}}{}{}}{{}{{}}}}
<BR>
<BR>The endif showed up around line 800)</P>

<P><HR></P>

<P>
<PRE>
//This code sucks, you know it and I know it.  
//Move on and call me an idiot later.
</PRE></P>

<P><HR></P>

<P>
<PRE>
// If this comment is removed the program will blow up 
</PRE></P>
</BODY>
</HTML>