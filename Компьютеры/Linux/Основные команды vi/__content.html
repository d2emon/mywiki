<!DOCTYPE html>
<HTML>
<HEAD>
	<META HTTP-EQUIV='CONTENT-TYPE' CONTENT='TEXT/HTML; CHARSET=UTF-8'/>

	<STYLE type="text/css">
		body, div, p, table {
			font-size:10pt;
			font-family:Verdana;
		}

		img{border:none}
		
	</STYLE>
	
</HEAD>

<BODY>
<P>
<H1>Основные команды vi</H1></P>

<P>
<H2>Основные команды vi</H2></P>

<P><TABLE ><TR><TD>Команды</TD><TD>Выполняемые функции</TD></TR><TR><TD>TERM=terminal_name
<BR>export TERM</TD><TD>Установка конфигурации терминала</TD></TR><TR><TD>tput init</TD><TD>Инициализировать терминал как terminal_name</TD></TR><TR><TD>vi filename</TD><TD>Вызов редактора vi для редактирования файла filename</TD></TR><TR><TD>a</TD><TD>Добавить текст после курсора</TD></TR><TR><TD>h</TD><TD>Перемещает курсор на один символ влево</TD></TR><TR><TD>j</TD><TD>Перемещает курсор вниз на одну строку</TD></TR><TR><TD>k</TD><TD>Перемещает курсор вверх на одну строку</TD></TR><TR><TD>l</TD><TD>Перемещает курсор на один символ вправо</TD></TR><TR><TD>x</TD><TD>Удалить символ</TD></TR><TR><TD><CR></TD><TD>Возврат каретки</TD></TR><TR><TD><ESC></TD><TD>Перейти из режима ввода в командный режим</TD></TR><TR><TD>:w</TD><TD>Записать в файл</TD></TR><TR><TD>:q</TD><TD>Завершить работу с редактором</TD></TR><TR><TD>:wq</TD><TD>Записать буфер в файл и завершить работу с редактором vi</TD></TR><TR><TD>ZZ</TD><TD>Записать изменения в файл и завершить работу с vi</TD></TR></TABLE>
<H2>Команды позиционирования курсора</H2></P>

<P>
<H3>Позиционирование на символ</H3></P>

<P><TABLE ><TR><TD>Команда</TD><TD>Действие команды</TD></TR><TR><TD>h</TD><TD>Перемещает курсор на один символ влево</TD></TR><TR><TD>l</TD><TD>Перемещает курсор на один символ вправо</TD></TR><TR><TD>BACKSPACE</TD><TD>Перемещает курсор на один символ влево</TD></TR><TR><TD>SPACEBAR</TD><TD>Перемещает курсор на один символ вправо</TD></TR><TR><TD>fx</TD><TD>Осуществляет поиск указанного символа x справа от текущей позиции курсора</TD></TR><TR><TD>Fx</TD><TD>Осуществляет поиск указанного символа x слева от текущей позиции курсора</TD></TR><TR><TD>tx</TD><TD>Осуществляет перемещение курсора вправо на символ до указанного символа x</TD></TR><TR><TD>Tx</TD><TD>Осуществляет перемещение курсора влево на символ до указанного символа x</TD></TR><TR><TD>;</TD><TD>Повторяет предыдущий поиск символа. Команда ; запоминает символ и ищет следующее появление символа в текущей строке</TD></TR><TR><TD>,</TD><TD>Повторяет предыдущий поиск символа, но в обратном направлении</TD></TR><TR><TD>j</TD><TD>Перемещает курсор вниз на одну строку</TD></TR><TR><TD>k</TD><TD>Перемещает курсор вверх на одну строку</TD></TR><TR><TD>-</TD><TD>Перемещает курсор на одну строку вверх, позиционируя его на первом ненулевом символе</TD></TR><TR><TD>+</TD><TD>Перемещает курсор вниз на одну строку и позиционирует на первый непустой символ</TD></TR><TR><TD><CR></TD><TD>Перемещает курсор вниз на одну строку и позиционирует на первый непустой символ</TD></TR></TABLE>
<H3>Позиционирование на строку</H3></P>

<P><TABLE ><TR><TD>Команда</TD><TD>Действие команды</TD></TR><TR><TD>$</TD><TD>Переместить курсор на последний символ в строке</TD></TR><TR><TD>0(ноль)</TD><TD>Переместить курсор на первый символ в строке</TD></TR><TR><TD>^</TD><TD>Переместить курсор на первый ненулевой символ в строке</TD></TR></TABLE>
<H3>Позиционирование на слово</H3></P>

<P><TABLE ><TR><TD>Команда</TD><TD>Действие команды</TD></TR><TR><TD>w</TD><TD>Перемещает курсор к началу следующего слова</TD></TR><TR><TD>W</TD><TD>Игнорирует все знаки пунктуации и перемещает курсор на следующее после пробела слово</TD></TR><TR><TD>e</TD><TD>Перемещает курсор на последний символ в следующем слове</TD></TR><TR><TD>E</TD><TD>Перемещает курсор на последний символ в слове. Игнорирует все символы пунктуации за исключением пробела</TD></TR><TR><TD>b</TD><TD>Перемещает курсор к первому символу предыдущего слова</TD></TR><TR><TD>B</TD><TD>Используется подобно команде b, за исключением того, что слова разделяются только символами пробел и новая строка</TD></TR></TABLE>
<H3>Позиционирование на предложение</H3></P>

<P><TABLE ><TR><TD>Команда</TD><TD>Действие команды</TD></TR><TR><TD>(</TD><TD>Перемещает курсор в начало текущего предложения</TD></TR><TR><TD>)</TD><TD>Перемещает курсор в начало следующего предложения</TD></TR></TABLE>
<H3>Позиционирование на параграф</H3></P>

<P><TABLE ><TR><TD>Команда</TD><TD>Действие команды</TD></TR><TR><TD>{</TD><TD>Переместить курсор в начало текущего параграфа, который ограничивается пустой строкой</TD></TR><TR><TD>}</TD><TD>Переместить курсор в начало следующего параграфа</TD></TR></TABLE>
<H3>Позиционирование в окне</H3></P>

<P><TABLE ><TR><TD>Команда</TD><TD>Действие команды</TD></TR><TR><TD>H</TD><TD>Переместить курсор к первой строке экрана</TD></TR><TR><TD>M</TD><TD>Переместить курсор к средней строке экрана</TD></TR><TR><TD>L</TD><TD>Переместить курсор к последней строке экрана</TD></TR></TABLE>
<H2>Дополнительные команды перемещения курсора в редакторе vi</H2></P>

<P>
<H3>Прокрутка</H3></P>

<P><TABLE ><TR><TD>Команда</TD><TD>Действие</TD></TR><TR><TD>^f</TD><TD>Прокрутка экрана вперед на полное окно. Открывается новое окно с текстом, расположенным ниже текущего окна</TD></TR><TR><TD>^d</TD><TD>Прокрутка текста вниз на пол-окна. Открываются строки, расположенные ниже текущего окна</TD></TR><TR><TD>^b</TD><TD>Прокрутка экрана назад на полное окно. Открывается новое окно с текстом, расположенным выше текущего окна</TD></TR><TR><TD>^d</TD><TD>Прокрутка текста вверх на пол-окна. Открываются строки, расположенные выше текущего окна</TD></TR></TABLE>
<H3>Позиционирование с помощью номера строки</H3></P>

<P><TABLE ><TR><TD>Команда</TD><TD>Действие</TD></TR><TR><TD>1G</TD><TD>Перейти к первой строке в файле</TD></TR><TR><TD>G</TD><TD>Перейти к последней строке в файле</TD></TR><TR><TD>^g</TD><TD>Выдать номер строки и состояние файла</TD></TR></TABLE>
<H3>Поиск по шаблону</H3></P>

<P><TABLE ><TR><TD>Команда</TD><TD>Действие</TD></TR><TR><TD>/pattern</TD><TD>Поиск вперед в буфере до первого появления шаблона. Курсор помещается на первом символе шаблона</TD></TR><TR><TD>?pattern</TD><TD>Поиск назад в буфере до первого появления шаблона. Курсор помещается на первом символе шаблона</TD></TR><TR><TD>n</TD><TD>Повторить последнюю команду поиска</TD></TR><TR><TD>N</TD><TD>Повторить последнюю команду поиска в обратном направлении</TD></TR></TABLE>
<H2>Команды создания текста</H2></P>

<P><TABLE ><TR><TD>Команда</TD><TD>Функция</TD></TR><TR><TD>a</TD><TD>Создать текст после курсора</TD></TR><TR><TD>A</TD><TD>Создать текст в конце текущей строки</TD></TR><TR><TD>i</TD><TD>Создать текст перед курсором</TD></TR><TR><TD>I</TD><TD>Создать текст перед первым ненулевым символом в текущей строке</TD></TR><TR><TD>o</TD><TD>Создать текст с начала новой строки, расположенной под текущей строкой</TD></TR><TR><TD>O</TD><TD>Создать текст с начала новой строки, расположенной над текущей строкой</TD></TR><TR><TD><ESC></TD><TD>Возвратить vi в командный режим из режима ввода текста</TD></TR></TABLE>
<H2>Команды удаления текста</H2></P>

<P>
<H3>Режим ввода</H3></P>

<P><TABLE ><TR><TD>Команда</TD><TD>Функция</TD></TR><TR><TD>BACKSPACE</TD><TD>Удалить текущий символ</TD></TR><TR><TD>1w</TD><TD>Удалить текущее слово</TD></TR><TR><TD>@</TD><TD ALIGN="LEFT">Удалить текущую строку нового текста или удалить весь новый текст в текущей строке</TD></TR></TABLE>
<H3>Командный режим</H3></P>

<P><TABLE ><TR><TD>Команда</TD><TD>Функция</TD></TR><TR><TD>u</TD><TD>Отменить последнюю команду</TD></TR><TR><TD>U</TD><TD>Восстановить текущую строку в прежнем состоянии</TD></TR><TR><TD>x</TD><TD>Удалить текущий символ</TD></TR><TR><TD>ndx</TD><TD>Удалить n-ый объект текста x</TD></TR><TR><TD>dw</TD><TD>Удалить слово над курсором и следующий за ним пробел, или знак пунктуации</TD></TR><TR><TD>dW</TD><TD>Удалить слово и пунктуацию над курсором с последующим за ним пробелом</TD></TR><TR><TD>dd</TD><TD>Удалить текущую строку</TD></TR><TR><TD>D</TD><TD>Удалить часть строки справа от курсора</TD></TR><TR><TD>d)</TD><TD>Удалить текущее предложение от текущей позиции курсора до конца</TD></TR><TR><TD>d}</TD><TD>Удалить текущий параграф от текущей позиции до конца</TD></TR></TABLE>
<H2>Команды изменения текста</H2></P>

<P><TABLE ><TR><TD>Команда</TD><TD>Функция</TD></TR><TR><TD>r</TD><TD>Заменить текущий символ</TD></TR><TR><TD>R</TD><TD>Заменить те символы, которые введены в режиме ESCAPE</TD></TR><TR><TD>s</TD><TD>Удалить символ, под которым расположен курсор и добавить текст. Для окончания режима ввода нажмите клавишу ESCAPE</TD></TR><TR><TD>S</TD><TD>Заменить все символы в строке</TD></TR><TR><TD>cc</TD><TD>Заменить все символы в строке</TD></TR><TR><TD>ncx</TD><TD>Заменить n объектов текста типа x (предложение, параграф)</TD></TR><TR><TD>cw</TD><TD>Заменить слово или оставшиеся символы в слове на новый текст</TD></TR><TR><TD>C</TD><TD>Заменить оставшиеся символы в строке от курсора до конца строки</TD></TR></TABLE>
<H2>Команда y</H2></P>

<P><TABLE ><TR><TD>Команда</TD><TD>Функция</TD></TR><TR><TD>nyx</TD><TD>Копирование n-го объекта текста типа x (предложение или параграф)</TD></TR><TR><TD>yw</TD><TD>Создание копии слова</TD></TR><TR><TD>yy</TD><TD>Создание копии текущей строки</TD></TR><TR><TD>nyy</TD><TD>Копирование n строк</TD></TR><TR><TD>y)</TD><TD>Создание копии всего текста до конца предложения</TD></TR><TR><TD>y}</TD><TD>Создание копии всего текста до конца параграфа</TD></TR></TABLE>
<H2>Команды извлечения и присоединения текста</H2></P>

<P><TABLE ><TR><TD>Команда</TD><TD>Функция</TD></TR><TR><TD>p</TD><TD>Помещает содержимое временного буфера, полученное с помощью команды y и команд удаления, в текст после курсора</TD></TR><TR><TD>yy</TD><TD>Создает копию строки текста и помещает во временный буфер</TD></TR><TR><TD>nyx</TD><TD>Создает копию n-го объекта текста типа x и помещает ее во временный буфер</TD></TR><TR><TD>"xyn</TD><TD>Помещает копию объекта текста типа n в в регистр с именем x</TD></TR><TR><TD>"xp</TD><TD>Помещает содержимое регистра x после курсора</TD></TR></TABLE>
<H2>Специальные команды</H2></P>

<P><TABLE ><TR><TD>Команда</TD><TD>Функция</TD></TR><TR><TD>.</TD><TD>Повторить последнюю команду</TD></TR><TR><TD>j</TD><TD>Соединить текущую строку со строкой, расположенной ниже</TD></TR><TR><TD>^l</TD><TD>Очистить и восстановить текущее окно</TD></TR><TR><TD>~</TD><TD>Заменить нижний регистр на верхний</TD></TR></TABLE>
<H2>Команды построчного редактора</H2></P>

<P><TABLE ><TR><TD>Команда</TD><TD>Функция</TD></TR><TR><TD>:</TD><TD>Обозначает, что следующая за ней команда является командой построчного редактора</TD></TR><TR><TD>:sh<CR></TD><TD>Временный возврат к shell для выполнения команд shell</TD></TR><TR><TD>^d</TD><TD>Возврат из временного shell в текущее окно vi для продолжения редактирования</TD></TR><TR><TD>:n<CR></TD><TD>Переход к n-ой строке буфера</TD></TR><TR><TD>:x,yw data<CR></TD><TD>Записать строки от номера x до номера y в новый файл data</TD></TR><TR><TD>:$<CR></TD><TD>Переход к последней строке буфера</TD></TR><TR><TD>:.,$d<CR></TD><TD>Удалить все строки в буфере, начиная с текущей и до послед- ней строки</TD></TR><TR><TD>:r shell.file<CR></TD><TD>Вставить содержимое shell.file после текущей строки в буфере</TD></TR><TR><TD>:s/text/new_words/<CR></TD><TD>Заменить первое появление символов text в текущей строке на new_words</TD></TR><TR><TD>:s/text/new_words/g<CR></TD><TD>Заменить каждое появление символов text в текущей строке на new_words</TD></TR><TR><TD>:g/text/s//new_words/g<CR></TD><TD>Заменить каждое появление символов text в файле на new_words</TD></TR></TABLE>
<H2>Команды завершения</H2></P>

<P><TABLE ><TR><TD>Команда</TD><TD>Функция</TD></TR><TR><TD>ZZ</TD><TD>Записать буфер в файл, если после последней записи в буфере были сделаны изменения, и завершить работу с vi</TD></TR><TR><TD>:wq<CR></TD><TD>Записать буфер в файл и завершить работу с vi</TD></TR><TR><TD>:w filename<CR></TD><TD>Записать буфер в новый файл filename</TD></TR><TR><TD>:q<CR></TD><TD>и завершить работу с vi</TD></TR><TR><TD>:w! filename<CR></TD><TD>Перезаписать содержимое буфера в уже</TD></TR><TR><TD>:q<CR></TD><TD>существующий файл filename и завершить работу с vi</TD></TR><TR><TD>:q!<CR></TD><TD>Завершить работу с vi без записи буфера в файл, даже если содержимое буфера изменялось</TD></TR><TR><TD>:q<CR></TD><TD>Завершить работу с vi без записи буфера в файл, если буфер не изменялся</TD></TR></TABLE>
<H2>Специальные опции vi</H2></P>

<P><TABLE ><TR><TD>Опция</TD><TD>Функция</TD></TR><TR><TD>vi file1 file2 file3<CR></TD><TD>Ввести три файла (file1 file2 и file3) в буфер vi для редактирования</TD></TR><TR><TD>:w<CR></TD><TD>Записать текущий файл и начать</TD></TR><TR><TD>:n<CR></TD><TD>редактирование следующего файла</TD></TR><TR><TD>vi -r file1<CR></TD><TD>Восстановить изменения, сделанные в файле file1</TD></TR><TR><TD>view file<CR></TD><TD>Осуществить просмотр файла с помощью опции "только чтение" чтобы предотвратить случайные изменения в файле file</TD></TR></TABLE></P>
</BODY>
</HTML>