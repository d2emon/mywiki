<!DOCTYPE html>
<HTML>
<HEAD>
	<META HTTP-EQUIV='CONTENT-TYPE' CONTENT='TEXT/HTML; CHARSET=UTF-8'/>

	<STYLE type="text/css">
		body, div, p, table {
			font-size:10pt;
			font-family:Verdana;
		}

		img{border:none}
		
	</STYLE>
	
</HEAD>

<BODY>
<P>
<H1>Сигналы</H1></P>

<P>Сигналы — очень полезные устройства для управления движением поездов. Они помогают избежать аварий на железнодорожных путях, по которым движется более чем один поезд.</P>

<P>
<H2>Установка сигналов</H2></P>

<P>Для проведения любых операций с сигналами, нужно быть в режиме установки сигналов. Откройте меню Строительство железной дороги и нажмите на значок сигналов. Полное описание панели сигналов см. Панель сигналов.</P>

<P>В режиме установки сигналов:</P>

<P>
<UL>
<LI>Для установки сигнала нажмите на свободный участок железной дороги. По-умолчанию будет установлен обычный двухсторонний блок-сигнал — основной сигнал. Если два диагональных параллельных пути лежат на одной и той же клетке, убедитесь что кликаете точно на нужный путь. Ниже будет описано как менять типы сигналов.</LI>
<LI>Для установки нескольких сигналов нажмите на существующий сигнал левой кнопкой мыши и растягивайте появившуюся линию в нужную сторону по дороге; сигналы будут расположены автоматически, через расстояние, указанное в опции "Плотность установки сигналов".</LI>
<LI>Для установки нескольких сигналов на всей линии пути, удерживая клавишу Ctrl кликните на уже установленный сигнал и перетаскивайте появившуюся линию в нужном направлении. Необходимо лишь указать таким образом направление, после чего сигналы установятся автоматически по всей длине пути, пока не упрутся в станцию или другой сигнал.</LI>
<LI>Для удаления сигналов нажмите на кнопку "бульдозер"  , оставаясь при этом в режиме установки сигналов, а затем нажмите на нежелательный сигнал. Вы можете перетаскивать линию сноса так же, как линию строительства, чтобы удалить несколько сигналов.</LI>
<LI>Чтобы создать односторонний сигнал нужно кликнуть на уже созданный обычный - двухсторонний - сигнал. Если кликнуть на сигнал еще раз, то он сменит направление; следующий клик превращает односторонний сигнал обратно в двухсторонний.</LI>
<LI>Чтобы преобразовать существующий сигналов в блок-сигнал или маршрутный сигнал, нужно удерживая Ctrl кликнуть на уже существующем сигнале.</LI>
</UL>Ограничения</P>

<P>
<UL>
<LI>Нельзя устанавливать сигналы на участках с пересечением путей а также на участках с ж/д переездом.</LI>
<LI>Нельзя устанавливать сигналы в туннелях и на мостах. Тем не менее, мод от пользователя HackaLittleBit может симулировать автоматически размещенные сигналы.</LI>
</UL>
<H2>Панель сигналов</H2></P>

<P>Новая панель сигналов позволяет заранее выбрать тип сигналов для установки, таким образом избавляя от необходимости прокликивать разные типы сигналов. Для открытия этой панели, удерживая ctrl нажмите на кнопку установки сигналов, или в меню опций Расширенных Настроек во вкладке "сигналы" пометьте опцию "включить меню сигналов" (включено по-умолчанию). Для более старых версий: в файле openttd.cfg опцию enable_signal_gui установите как true.</P>

<P><B>Семафоры</B> (старые электро-механические сигналы, широко использовались до середины 70-х)</P>

<P><TABLE ><TR><TD><IMG SRC="__attach/Signal_Semaphore.png"/></TD><TD>Блок-сигнал</TD></TR><TR><TD><IMG SRC="__attach/Signal_Semaphore_Pre-Signal.png"/></TD><TD>Въездной пре-сигнал</TD></TR><TR><TD><IMG SRC="__attach/Signal_Semaphore_Exit-Signal.png"/></TD><TD>Выездной пре-сигнал</TD></TR><TR><TD><IMG SRC="__attach/Signal_Semaphore_Combo-Signal.png"/></TD><TD>Комбинированный пре-сигнал</TD></TR><TR><TD><IMG SRC="__attach/Signal_Semaphore_Path.png"/></TD><TD>Маршрутный сигнал разрешающий (пускает в противоположную сторону)</TD></TR><TR><TD><IMG SRC="__attach/Signal_Semaphore_Path_One-Way.png"/></TD><TD>Маршрутный сигнал запрещающий (не пускает в противоположную сторону)</TD></TR></TABLE>
<BR><B>Светофоры</B> (современные электрические сигналы; ведут себя так же)
<BR><TABLE ><TR><TD><IMG SRC="__attach/Signal_Electric.png"/></TD><TD>Блок-сигнал</TD></TR><TR><TD><IMG SRC="__attach/Signal_Electric_Pre-Signal.png"/></TD><TD>Въездной пре-сигнал</TD></TR><TR><TD><IMG SRC="__attach/Signal_Electric_Exit-Signal.png"/></TD><TD>Выездной пре-сигнал</TD></TR><TR><TD><IMG SRC="__attach/Signal_Electric_Combo-Signal.png"/></TD><TD>Комбинированный пре-сигнал</TD></TR><TR><TD><IMG SRC="__attach/Signal_Electric_Path.png"/></TD><TD>Маршрутный сигнал разрешающий (пускает в противоположную сторону)</TD></TR><TR><TD><IMG SRC="__attach/Signal_Electric_Path_One-Way.png"/></TD><TD>Маршрутный сигнал запрещающий (не пускает в противоположную сторону)</TD></TR></TABLE>
<BR><B>Прочие кнопки</B></P>

<P><TABLE ><TR><TD><IMG SRC="__attach/Signal_Convert.png"/></TD><TD>Инструмент преобразования сигналов — превращает любой сигнал на путях в тот, что выбран на панели сигналов. См. соотв. главу в статье Установка сигналов</TD></TR><TR><TD><IMG SRC="__attach/Signal_Density.png"/></TD><TD>Инструмент выбора плотности сигналов. С его помощью можно указать, через какое расстояние будут автоматически размещаться сигналы. См. соотв. главу в статье Установка сигналов</TD></TR></TABLE>
<H2>Блок-сигналы</H2></P>

<P>Блок-сигналы, несмотря на название, основываются на принципе участков-блоков, а не на блокировании поездов, как можно было подумать. Блоком считается участок пути между двумя сигналами, либо между сигналом и тупиком. Если блок занят поездом, блок-сигналы на въезде на этот блок-участок будут красными. В противном случае - зелеными.</P>

<P>
<H3>Двухсторонние сигналы</H3></P>

<P><IMG SRC="__attach/Two-way_signal.png"/></P>

<P><A HREF="__attach/2-way_signals.png"><IMG SRC="__attach/__thumb/th_maxsize_250_2-way_signals.png"/></A>
<BR>Двухсторонние сигналы на погрузочной станции</P>

<P>Двусторонние сигналы используются на тех путях, где требуется двухсторонне движение по одному и тому же пути. Наиболее очевидное их применение - на "тупиковых" станциях, на которые поезда заезжают и которую покидают через одну и ту же сторону. На примере справа такие сигналы направляют поезд на незанятый путь. Также именно они препятствуют поезду покинуть станцию, если блок-участок занят.</P>

<P>Если поезд может выбрать несколько направлений, на каждом из которых есть двухсторонние сигналы, то он поедет по пути с зеленым сигналом. Если же все сигналы красные, то поезд поедет самым простым путем и будет ждать зеленого сигнала если упрется в красный.</P>

<P>
<H3>Односторонние сигналы</H3></P>

<P><IMG SRC="__attach/One-way_signal.png"/></P>

<P><A HREF="__attach/1-way_signal_loop.png"><IMG SRC="__attach/__thumb/th_maxsize_250_1-way_signal_loop.png"/></A>
<BR>Кольцевое одностороннее движение</P>

<P>Односторонние сигналы позволяют поездам двигаться только в одном направлении. В примере на картинке, сигналы принуждают поезд двигаться кругами в одном направлении. У этих сигналов есть преимущества: они обеспечивают эффективность въезда и выезда поездов, и позволяют иметь больше чем один поезд на одном и том же пути.</P>

<P>При использовании односторонних сигналов убедитесь, что они все направлены в одну и ту же сторону. Проследить за первым поездом, идущим по вашему маршруту, оборудованному односторонними сигналами, до самого конца маршрута будет хорошей идеей.</P>

<P>Кликните на двусторонний сигнал, чтобы превратить его в односторонний. Кликните еще раз, чтобы сменить его направление (при этом сигнал останется односторонним). Третий клик сделает сигнал опять двусторонним.</P>

<P>Если поезду приходится выбирать между несколькими путями, оборудованными односторонними сигналами, он будет выбирать только из тех путей, сигналы на которых позволяют поезду двигаться к своей цели. Тоесть, поезд будет так же, как и в случае с обычными сигналами, выбирать путь с зеленым сигналом или останавливаться у красного и ждать зеленого сигнала на путях, сигналы которых позволяют поезду двигаться вперед, и никогда не выберет путь, односторонний сигнал на котором не пропустит поезд, независимо от его цвета - красного или зеленого. В этом разница между односторонними и двухсторонними сигналами.</P>

<P>
<H3>Пре-сигналы</H3></P>

<P><A HREF="__attach/Station_no_pre-signals.png"><IMG SRC="__attach/__thumb/th_maxsize_250_Station_no_pre-signals.png"/></A>
<BR>Проблема - левый состав, возможно, уедет первым</P>

<P><A HREF="__attach/Station_with_pre-signals.png"><IMG SRC="__attach/__thumb/th_maxsize_250_Station_with_pre-signals.png"/></A>
<BR>Решение проблемы при помощи пре-сигнала</P>

<P>Изображение справа показывает ситуацию, где доступ к станции управляется обычными сигналами. Когда имеется свободная платформа на станции - входящий состав всегда направляется к ней. Однако расмотрим ситуацию, когда все платформы заняты, как на "проблемном" скриншоте. Все входные сигналы красные, и в таком случае подъезжающий состав выбирает простейший путь - прямо. Но предположим, что состав на той платформе будет стоять, в то время как с соседней платформы отправляется поезд, освобождая ее. Входящий состав тем не менее уже выбрал путь и будет ждать освобождения выбранной платформы, в то время как другая платформа свободна. Значит нужно остановить входящий состав до того, как он начнет делать выбор между двумя красными сигналами. Для этого необходимо использовать пре-сигналы.</P>

<P>Пре-сигналы - это сигналы, которы принимают решения основываясь не только на занятости блока после них, но и на показаниях установленных далее сигналов. В частности, въездной пре-сигнал открыт тогда, и только тогда, когда сигнал на выходе из последующего блока зеленого цвета.</P>

<P>
<H4>Въездные пре-сигналы</H4></P>

<P><IMG SRC="__attach/60px-Entry_presignal.png"/></P>

<P>Въездной пре-сигнал открыт до тех пор, пока есть хотя-бы один открытый выездной сигнал в конце блока. В противном случае - закрыт. Это предотвращает попадания поездов в ограниченный въездным пре-сигналом блок при отсутвии свободного выхода из него. Обратите внимание, что депо имеет встроенный двухсторонний сигнал (он работает как въездной пре-сигнал в системе пре-сигналов).</P>

<P>Если нет никаких сигналов, определяемых как выездные после въездного пре-сигнала, он ведет себя как обычный сигнал. Это удобно для двунаправленных пре-сигналов, где только одно направление нуждается в функциональности пре-сигналов.</P>

<P>
<H4>Выездные пре-сигналы</H4></P>

<P><IMG SRC="__attach/60px-Exit_presignal.png"/></P>

<P>Выездной пре-сигнал ведет себя таким же образом как нормальный сигнал, но он необходим для корректной работы въездных и комбинированных пре-сигналов.</P>

<P>
<H4>Комбинированные пре-сигналы</H4></P>

<P><IMG SRC="__attach/60px-Combo_presignal.png"/></P>

<P><A HREF="__attach/Station_with_pre-signals2.png"><IMG SRC="__attach/__thumb/th_maxsize_250_Station_with_pre-signals2.png"/></A>
<BR>Станция с одним въездным, двумя комбинированными и четырьмя выездными пре-сигналами</P>

<P>Третий тип пре-сигналов называется комбинированным пре-сигналом, поскольку является попросту одновременно въездным и выездным пре-сигналом. Его использование позволяет строить большие каскады пре-сигналов, как это показано на изображении справа.</P>

<P>
<H4>Установка пре-сигналов</H4></P>

<P>Чтобы устанавливать пре-сигналы, выберите соответствующую кнопку на панели сигналов.</P>

<P>Для ранних версий: Сначала разместите обычный сигнал. Затем, удерживая ctrl прокликивайте его до тех пор, пока не будет выбран требуемый пре-сигнал.</P>

<P>
<UL>
<LI>Обратите внимание, что односторонние пре-сигналы устанавливаются так же, как обычные односторонние сигналы. Помните, что прокликивание сигнала с зажатым ctrl меняет тип сигнала, а без него - меняет направление.</LI>
<LI>Обратите внимание, что нужно не удерживать ctrl во время установки сигнала, иначе вы получите семафор. Также используйте ctrl если вы включили панель сигналов.</LI>
</UL>
<H4>Ограничения</H4></P>

<P><A HREF="__attach/PresignalLimitation.png"><IMG SRC="__attach/__thumb/th_maxsize_250_PresignalLimitation.png"/></A>
<BR>Проблема с пре-сигналами</P>

<P>
<UL>
<LI>Важный момент заключается в том, что зеленые выездные пре-сигналы активируют въездные пре-сигналы на входе в блок, даже если поезд, входящий через въездной пре-сигнал в принципе не может выйти через выездной, как это показано на картинке справа. Это может испортить более сложные системы пре-сигналов, так что будьте осторожны при использовании этих сигналов.</LI>
<LI>Также с выездными пре-сигналами связан баг, который помечен как "никогда не будет исправлен": потерявшиеся поезда игнорируют красные выездные пре-сигналы. Потерявшийся поезд выбирает случайно направления для каждого перекрестка, и, игнорируя выездные пре-сигналы, легко могут намертво заблокировать целую ветку спре-сигналами.</LI>
</UL>
<H2>Маршрутные сигналы</H2></P>

<P>Есть два новых типа сигналов. Эти сигналы позволяют поездам зарезервировать путь через блок до следующего сигнала, прежде, чем войти в блок. Если поезд хочет войти в блок, и есть возможность резервировать свободный путь в этом блоке, маршрутный сигнал разрешает поезду вход в блок, даже если другие пути в этом блоке используются в то же самое время.</P>

<P><A HREF="__attach/Signal_bloc.png"><IMG SRC="__attach/__thumb/th_maxsize_250_Signal_bloc.png"/></A>
<BR>Y-блок между тремя блок-сигналами</P>

<P>Вот пример в виде иллюстрации.</P>

<P>У нас есть блок с Y-образным перекрестком, заключенным между тремя обычными сигналами. Правый путь занят поездом. Другой поезд подходит с нижней ветки и хочет пойти по левой ветке пути. Обычные сигналы полагают, что все пути в блоке заняты, даже если, как в данном примере, левая ветка свободна.</P>

<P><A HREF="__attach/Multiples_standard.png"><IMG SRC="__attach/__thumb/th_maxsize_250_Multiples_standard.png"/></A>
<BR>С двумя дополнительными сигналами Y-блок был разделен на три блока: правый, левый и развилку</P>

<P>Решение состоит в том, чтобы расколоть данный блок на меньшие блоки, добавляя сигналы после развилки.</P>

<P><A HREF="__attach/Chemin.png"><IMG SRC="__attach/__thumb/th_maxsize_250_Chemin.png"/></A>
<BR>Y-развилка между маршрутным сигналом и двумя блок-сигналами</P>

<P>Тем временем, маршрутный сигнал разрешает поезду с нижней ветки входить в Y блок после проверки возможности резервирования пути — левой ветки. Нет необходимости разбивать данный блок на более мелкие блоки, т.е. не нужны дополнительные сигналы после развилки.</P>

<P>Есть две вещи, которые необходимо учитывать при использовании данных сигналов:</P>

<P>
<UL>
<LI>Этот сигнал может подолгу показывать красный свет; устанавливайте его только там, где поезд может остановиться и ждать без блокирования развязок;</LI>
<LI>Этот сигнал работает только в одном направлении. В противоположном направлении он будет либо проигнорирован, либо заблокирует путь, в зависимости от типа установленного сигнала (см. ниже).</LI>
<LI><IMG SRC="__attach/Yapp_pbssignal.png"/> Маршрутный сигнал разрешающий: поезда могут пройти с обратной стороны.</LI>
<LI><IMG SRC="__attach/Yapp_onewaypbssignal.png"/> Маршрутный сигнал запрещающий (односторонний): поезда могут двигаться только в одну сторону.</LI>
</UL>В большинстве случаев вполне пригоден обычный (разрешающий, двухсторонний) маршрутный сигнал, так как алгоритм поиска пути старается избегать прохождения этого сигнала в противоположную сторону. Тем не менее, запрещающий маршрутный сигнал может быть необходим в ряде случаев.</P>

<P>Эти два новых типа сигналов ведут себя немного отлично от стандартных сигналов. По-умолчанию маршрутные сигналы красные, и показывают зеленый только в том случае, если поезд может зарезервировать себе путь до следующей точки безопасного ожидания, которыми являются: депо, сигналы и тупики. Задняя сторона маршрутных сигналов безопасной точкой не считается, и пути резервируются "через" нее.</P>

<P>Лицевая сторона любого сигнала определена как безопасная точка; устанавливать сигналы сразу после развилок нежелательно, тем не менее можно свободно ставить их перед развилкой. Это потому, что поезд может подолгу стоять не загораживая развязку только находясь перед ней, в то время как простой поезда перед сигналом, стоящим сразу после развилки, создает на ней затор, как показано на картинке внизу. В этом главное преимущество этих сигналов перед стандартными сигналами OpenTTD, которые нужно было ставить сразу перед и после развилки, создавая ситуации в которых стоящий на развилке поезд полностью ее блокирует.</P>

<P><A HREF="__attach/Yapp_unsafewaitinglocation.png"><IMG SRC="__attach/__thumb/th_maxsize_250_Yapp_unsafewaitinglocation.png"/></A>
<BR>Сигнал, указанный стрелкой, является плохой точкой ожидания, так как поезд, находящийся в ней, блокирует путь для поезда сверху, который мог бы быть свободен. На этой картинке также есть вторая плохая точка ожидания.</P>

<P>
<H3>Расширенные настройки</H3></P>

<P><IMG SRC="__attach/Yapp_patch-options_Ru.png"/>
<BR>Расширенные настройки YAPP</P>

<P>Доступны три новые опции в расширенных настройках, связанные с маршрутными сигналами.</P>

<P>Первая опция — подсветка зарезервированных путей. Эта опция полезна для устранения неполадок железной дороги, связанных с использованием маршрутных сигналов, так как зарезервированный участок полностью отображается.</P>

<P>Вторая опция определяет тип устанавливаемых сигналов по-умолчанию - обычные блок-сигналы, маршрутные обычные или маршрутные односторонние сигналы.</P>

<P>Третья опция определяет, какие сигналы доступны через ctrl-прокликивание.</P>

<P>Также есть еще несколько связанных с сигналами опций, которые недоступны через меню Расширенных Настроек. Более подробно об этом изложено в статье Расширенные опции и возможности маршрутных сигналов.</P>

<P>
<H3>Основные примеры</H3></P>

<P>Ниже изложены некоторые примеры систем путей с использованием маршрутных сигналов. Не рекомендуемые новичкам, Расширенные системы маршрутных сигналов, также доступны в соответствующей статье.</P>

<P>
<H4>Простой перекресток</H4></P>

<P>Этот простой перекресток теперь имеет куда большую пропускную способность.</P>

<P><A HREF="__attach/Yapp_basicjunction.png"><IMG SRC="__attach/__thumb/th_maxsize_250_Yapp_basicjunction.png"/></A>
<BR>Простой перекресток для поездов не длиннее трех клеток. Обратите внимание на обычные сигналы.</P>

<P>
<H4>Простая двухсторонняя станция</H4></P>

<P>На этой станции поезда могут использовать обе платформы, прибывая из обоих направлений.</P>

<P><A HREF="__attach/Yapp_basicstation.png"><IMG SRC="__attach/__thumb/th_maxsize_250_Yapp_basicstation.png"/></A>
<BR>Простая станция.</P>

<P>
<H2>Семафоры</H2></P>

<P><IMG SRC="__attach/Semaphore.png"/>
<BR>Семафоры по функциональности ничем не отличаются от обычных сигналов. У них попросту старинный внешний вид.</P>

<P>До версии 0.6.0 семафоры в OpenTTD можно было создать только удерживая ctrl во время установки сигналов. Начиная с версии 0.6.0 семафоры будут по-умолчанию создаваться вместо светофоров до определенного года, по умолчанию 1975, который можно настроить. Эта опция находится в меню Расширенных Настроек в секции Строительство / Сигналы и называется "Строить семафоры старого стиля".</P>

<P>После установки семафора, прокликивание его с зажатым ctrl изменяет тип его сигнала, или пре-сигнала. Вы также можете обновить семафоры до светофоров с помощью инструмента "преобразовать сигнал" на панели сигналов, удерживая ctrl кликая на семафор. Простой клик поменяет семафор на выбранный в панели сигналов тип сигнала а не обновит его!</P>

<P>
<H3>История</H3></P>

<P>Семафоры имеют весьма длинную историю в жизни железной дороги. Задолго до появления электрических лампочек, семафоры использовались для обозначения направления на железнодорожных стрелках, показывая что путь после стрелки безопасен. Семафоры — простые устройства, механически управляемый железнодорожный знак, поднимаемый или опускаемый для обозначения занятости или свободности пути.</P>

<P>В оригинальной игре Transport Tycoon, железнодорожные сигналы создавались в виде семафоров вплоть до 1975 игрового года, после которого создавались светофоры. В игре Transport Tycoon Deluxe эту функцию убрали, но позже вернули в патче TTDPatch, и в игре OpenTTD.</P>

<P>
<H2>Управление поездами</H2></P>

<P>Имейте ввиду, что сигналы — не идеальный способ направить поезда по разным направлениям. Сигналы нужны, чтобы не дать поездам столкнуться друг с другом, и чтобы помочь им выбрать из нескольких путей, ведущих к их точке прибытия. Если вы хотите вручную направить поезд по определенному маршруту, то лучше используйте контрольные точки.</P>
</BODY>
</HTML>